package com.max.storyteller;

import java.util.ArrayList;
import java.util.Random;

public class StoryManager {
	private ArrayList<String> stories = new ArrayList<String>();
	private ArrayList<String> titles = new ArrayList<String>();
	private String currentStory;
	private int currentID;
	private String currentTitle;
	
	public String getCurrentStory() {
		return currentStory;
	}

	public void setCurrentStory() {
		this.currentStory = getStories().get(getCurrentID());
	}

	public String getCurrentTitle() {
		return currentTitle;
	}

	public void setCurrentTitle() {
		this.currentTitle = getTitles().get(getCurrentID());
	}

	public StoryManager(){
		AddStory("Like Fire On a House", "The reason my father’s eyebrows were singed that morning, he told me, was because he and a friend had rescued a man from a burning building the night before. He’d said it so calmly it took me a moment to hear it. He’d saved a man’s life. What did this mean for me?Suddenly, my empty breakfast bowl became filled with wonder. The day unravelled before me like a sacred scroll. All who saw me would become blinded by my second-hand glory. I wondered if the lucky ones might even touch the hem of my hand-me-down garment and be healed… My father had saved a man’s life. Sunlight crowned his head with gold as Dad recounted the night’s events in measured tones: The man had been drinking. He had fallen asleep with a lit cigarette. He had kept trying to go back inside to find his dog… There must have been firetrucks. And ambulances. Sirens, probably. I couldn’t believe I slept through it all; couldn’t believe they let me sleep through it!");
		AddStory("That Pig of a Morin Author: Guy de Maupassant (1850-1893)", "Day broke and soon the first ray of sunlight appeared, a long, clear ray which shone on the face of the sleeping girl and woke her. She sat up, looked at the country, then at Morin and smiled. She smiled like a happy woman, with a bright engaging look, and Morin trembled. Certainly that smile was intended for him; it was discreet invitation, the signal which he was waiting for. ");
		AddStory("Eva Is Inside Her Cat", "ALL OF A SUDDEN SHE NOTICED that her beauty had fallen all apart on her, that it had begun to pain her physically like a tumor or a cancer. She still remembered the weight of the privilege she had borne over her body during adolescence, which she had dropped now--who knows where?--with the weariness of resignation, with the final gesture of a declining creature. It was impossible to bear that burden any longer. She had to drop that useless attribute of her personality somewhere; as she turned a corner, somewhere in the outskirts. Or leave it behind on the coatrack of a second-rate restaurant like some old useless coat. She was tired of being the center of attention, of being under siege from men's long looks. At night, when insomnia stuck its pins into her eyes, she would have liked to be an ordinary woman, without any special attraction. Everything was hostile to her within the four walls of her room. Desperate, she could feel her vigil spreading out under her skin, into her head, pushing the fever upward toward the roots of her hair.");
		AddStory("One of These Days", "I saw her walk over to the dressing table. I watched her appear in the circular glass of the mirror looking at me now at the end of a back and forth of mathematical light. I watched her keep on looking at me with her great hot-coal eyes: looking at me while she opened the little box covered with pink mother of pearl. I saw her powder her nose. When she finished, she closed the box, stood up again, and walked over to the lamp once more, saying: \"I\'m afraid that someone is dreaming about this room and revealing my secrets.\" And over the flame she held the same long and tremulous hand that she had been warming before sitting down at the mirror. And she said: \"You don\'t feel the cold.\" And I said to her: \"Sometimes.\" And she said to me: \"You must feel it now.\" And then I understood why I couldn't have been alone in the seat. It was the cold that had been giving me the certainty of my solitude. \"Now I feel it,\" I said. \"And it\'s strange because the night is quiet. Maybe the sheet fell off.\" She didn\'t answer. Again she began to move toward the mirror and I turned again in the chair, keeping my back to her. Without seeing her, I knew what she was doing. I knew that she was sitting in front of the mirror again, seeing my back, which had had time to reach the depths of the mirror and be caught by her look, which had also had just enough time to reach the depths and return--before the hand had time to start the second turn--until her lips were anointed now with crimson, from the first turn of her hand in front of the mirror. I saw, opposite me, the smooth wall, which was like another blind mirror in which I couldn\'t see her--sitting behind me--but could imagine her where she probably was as if a mirror had been hung in place of the wall. \"I see you,\" I told her. And on the wall I saw what was as if she had raised her eyes and had seen me with my back turned toward her from the chair, in the depths of the mirror, my face turned toward the wall. Then I saw her lower her eyes again and remain with her eyes always on her brassiere, not talking. And I said to her again: \"I see you.\" And she raised her eyes from her brassiere again. \"That\'s impossible,\" she said. I asked her why. And she, with her eyes quiet and on her brassiere again: \"Because your face is turned toward the wall.\" Then I spun the chair around. I had the cigarette clenched in my mouth. When I stayed facing the mirror she was back by the lamp. Now she had her hands open over the flame, like the two wings of a hen, toasting herself, and with her face shaded by her own fingers. \"I think I'm going to catch cold,\" she said.");
		AddStory("Beyond the Wall","Many years ago, on my way from Hongkong to New York, I passed a week in San Francisco. A long time had gone by since I had been in that city, during which my ventures in the Orient had prospered beyond my hope; I was rich and could afford to revisit my own country to renew my friendship with such of the companions of my youth as still lived and remembered me with the old affection. Chief of these, I hoped, was Mohun Dampier, an old schoolmate with whom I had held a desultory correspondence which had long ceased, as is the way of correspondence between men. You may have observed that the indisposition to write a merely social letter is in the ratio of the square of the distance between you and your correspondent. It is a law.I remembered Dampier as a handsome, strong young fellow of scholarly tastes, with an aversion to work and a marked indifference to many of the things that the world cares for, including wealth, of which, however, he had inherited enough to put him beyond the reach of want. In his family, one of the oldest and most aristocratic in the country, it was, I think, a matter of pride that no member of it had ever been in trade nor politics, nor suffered any kind of distinction. Mohan was a trifle sentimental, and had in him a singular element of superstition, which led him to the study of all manner of occult subjects, although his sane mental health safeguarded him against fantastic and perilous faiths. He made daring incursions into the realm of the unreal without renouncing his residence in the partly surveyed and charted region of what we are pleased to call certitude.The night of my visit to him was stormy. The Californian winter was on, and the incessant rain splashed in the deserted streets, or, lifted by irregular gusts of wind, was hurled against the houses with incredible fury. With no small difficulty my cabman found the right place, away out toward the ocean beach, in a sparsely populated suburb. The dwelling, a rather ugly one, apparently, stood in the center of its grounds, which as nearly as I could make out in the gloom were destitute of either flowers or grass. Three or four trees, writhing and moaning in the torment of the tempest, appeared to be trying to escape from their");
		AddStory("A Horseman in the Sky","One sunny afternoon in the autumn of the year 1861, a soldier lay in a clump of laurel by the side of a road in Western Virginia. He lay at full length, upon his stomach, his feet resting upon the toes, his head upon the left forearm. His extended right hand loosely grasped his rifle. But for the somewhat methodical disposition of his limbs and a slight rhythmic movement of the cartridge-box at the back of his belt, he might have been thought to be dead. He was asleep at his post of duty. But if detected he would be dead shortly afterward, that being the just and legal penalty of his crime. The clump of laurel in which the criminal lay was in the angle of a road which, after ascending, southward, a steep acclivity to that point, turned sharply to the west, running along the summit for perhaps one hundred yards. There it turned southward again and went zigzagging downward through the forest. At the salient of that second angle was a large flat rock, jutting out from the ridge to the northward, overlooking the deep valley from which the road ascended. The rock capped a high cliff; a stone dropped from its outer edge would have fallen sheer downward one thousand feet to the tops of the pines. The angle where the soldier lay was on another spur of the same cliff. Had he been awake he would have commanded a view, not only of the short arm of the road and the jutting rock but of the entire profile of the cliff below it. It might well have made him giddy to look. The country was wooded everywhere except at the bottom of the valley to the northward, where there was a small natural meadow, through which flowed a stream scarcely visible from the valley's rim. This open ground looked hardly larger than an ordinary door-yard, but was really several acres in extent. Its green was more vivid than that of the enclosing forest. Away beyond it rose a line of giant cliffs similar to those upon which we are supposed to stand in our survey of the savage scene, and through which the road had somehow made its climb to the summit. The configuration of the valley, indeed, was such that from out point of observation it seemed entirely shut in, and one could not but have wondered how the road which found a way out of it had found a way into it, and whence came and whither went the waters of the stream that parted the meadow two thousand feet below.No country is so wild and difficult but men will make it a theatre of war; concealed in the forest at the bottom of that military rat-trap, in which half a hundred men in possession of the exits might have starved an army to submission, lay five regiments of Federal infantry. They had marched all the previous day and night and were resting. At nightfall they would take to the road again, climb to the place where their unfaithful sentinel now slept, and, descending the other slope of the ridge, fall upon a camp of the enemy at about midnight. Their hope was to surprise it, for the road led to the rear of it. In case of failure their position would be perilous in the extreme; and fail they surely would should accident or vigilance apprise the enemy of the movement.");
		AddStory("The Boarded Window","In 1830, only a few miles away from what is now the great city of Cincinnati, lay an immense and almost unbroken forest. The whole region was sparsely settled by people of the frontier--restless souls who no sooner had hewn fairly habitable homes out of the wilderness and attained to that degree of prosperity which today we should call indigence, than, impelled by some mysterious impulse of their nature, they abandoned all and pushed farther westward, to encounter new perils and privations in the effort to regain the meager comforts which they had voluntarily renounced. Many of them had already forsaken that region for the remoter settlements, but among those remaining was one who had been of those first arriving. He lived alone in a house of logs surrounded on all sides by the great forest, of whose gloom and silence he seemed a part, for no one had ever known him to smile nor speak a needless word. His simple wants were supplied by the sale or barter of skins of wild animals in the river town, for not a thing did he grow upon the land which, if needful, he might have claimed by right of undisturbed possession. There were evidences of \"improvement\"--a few acres of ground immediately about the house had once been cleared of its trees, the decayed stumps of which were half concealed by the new growth that had been suffered to repair the ravage wrought by the ax. Apparently the man\'s zeal for agriculture had burned with a failing flame, expiring in penitential ashes.The little log house, with its chimney of sticks, its roof of warping clapboards weighted with traversing poles and its \"chinking\" of clay, had a single door and, directly opposite, a window. The latter, however, was boarded up--nobody could remember a time when it was not. And none knew why it was so closed; certainly not because of the occupant's dislike of light and air, for on those rare occasions when a hunter had passed that lonely spot the recluse had commonly been seen sunning himself on his doorstep if heaven had provided sunshine for his need. I fancy there are few persons living today who ever knew the secret of that window, but I am one, as you shall see.The man\'s name was said to be Murlock. He was apparently seventy years old, actually about fifty. Something besides years had had a hand in his aging. His hair and long, full beard were white, his gray, lusterless eyes sunken, his face singularly seamed with wrinkles which appeared to belong to two intersecting systems. In figure he was tall and spare, with a stoop of the shoulders--a burden bearer. I never saw him; these particulars I learned from my grandfather, from whom also I got the man's story when I was a lad. He had known him when living near by in that early day.");
		generateStory();
	}
	
	public void generateStory(){
		Random r = new Random();
		int i = r.nextInt(getStories().size());
		setCurrentID(i);
		setCurrentStory();
		setCurrentTitle();
	}

	public int getCurrentID() {
		return currentID;
	}

	public void setCurrentID(int currentID) {
		this.currentID = currentID;
	}

	public ArrayList<String> getStories() {
		return stories;
	}

	public ArrayList<String> getTitles() {
		return titles;
	}
	
	
	public void AddStory(String title, String story){
		getTitles().add(title);
		getStories().add(story);
	}

}
